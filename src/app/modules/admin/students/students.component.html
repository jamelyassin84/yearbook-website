<div class="flex flex-col w-full min-h-[100vh]">
    <page-header
        headerTitle="Students"
        subtitle="Unforgettable Faces, Remarkable Stories"
        [template]="template"
    />

    <ng-template #template>
        <div class="flex items-center px-5">
            <div class="mr-auto"></div>

            <mat-form-field class="w-full md:w-[200px] mx-3">
                <mat-select
                    (selectionChange)="filter()"
                    [(ngModel)]="filters.section_id"
                    placeholder="Select Section"
                >
                    <mat-option [value]="undefined">All</mat-option>
                    <mat-option
                        [value]="section.id"
                        *ngFor="
                            let section of sections$ | async;
                            trackBy: trackByFn
                        "
                        >{{ section.name }}</mat-option
                    >
                </mat-select>
            </mat-form-field>

            <mat-form-field class="w-full md:w-[200px] mx-3">
                <mat-select
                    (selectionChange)="filter()"
                    [(ngModel)]="filters.course_id"
                    placeholder="Select Course"
                >
                    <mat-option [value]="undefined">All</mat-option>
                    <mat-option
                        [value]="course.id"
                        *ngFor="
                            let course of courses$ | async;
                            trackBy: trackByFn
                        "
                        >{{ course.name }}</mat-option
                    >
                </mat-select>
            </mat-form-field>

            <mat-form-field class="w-full md:w-[200px] mx-3">
                <mat-select
                    (selectionChange)="filter()"
                    [(ngModel)]="filters.department_id"
                    placeholder="Select Department"
                >
                    <mat-option [value]="undefined">All</mat-option>
                    <mat-option
                        [value]="department.id"
                        *ngFor="
                            let department of departments$ | async;
                            trackBy: trackByFn
                        "
                        >{{ department.name }}</mat-option
                    >
                </mat-select>
            </mat-form-field>

            <mat-form-field class="w-full md:w-[200px] mx-3">
                <mat-select
                    (selectionChange)="filter()"
                    [(ngModel)]="filters.school_year_id"
                    placeholder="Select Academic Year"
                >
                    <mat-option [value]="undefined">All</mat-option>
                    <mat-option
                        [value]="schoolYear.id"
                        *ngFor="
                            let schoolYear of schoolYears$ | async;
                            trackBy: trackByFn
                        "
                        >{{ schoolYear.name }}</mat-option
                    >
                </mat-select>
            </mat-form-field>

            <button
                (click)="add()"
                class="py-2.5 px-5 bg-isat-blue rounded text-white active:opacity-75 md:hover:bg-black -mt-4"
            >
                New Student
            </button>
        </div>
    </ng-template>

    <student-list [students]="students$ | async" />
</div>
